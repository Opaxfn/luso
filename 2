import javafx.application.Application;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.TextArea;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.layout.GridPane;
import javafx.stage.Stage;
import java.util.Random;

public class LancerDes extends Application {

    private final Image[] diceFaces = new Image[6];
    private final ImageView[] diceViews = new ImageView[12];
    private final Random random = new Random();
    private final int[] frequencies = new int[6];

    @Override
    public void start(Stage primaryStage) {
        primaryStage.setTitle("Lancer de d√©s");

        // Load dice images
        for (int i = 0; i < 6; i++) {
            diceFaces[i] = new Image("file:images_exercice2/dice" + (i + 1) + ".png");
        }

        // GridPane for dice
        GridPane grid = new GridPane();
        for (int i = 0; i < 12; i++) {
            diceViews[i] = new ImageView(diceFaces[0]);
            grid.add(diceViews[i], i % 4, i / 4);
        }

        // Button to roll dice
        Button lancerButton = new Button("Lancer");
        TextArea resultArea = new TextArea();
        resultArea.setPrefHeight(100);

        lancerButton.setOnAction(e -> rollDice(resultArea));

        // Layout
        GridPane layout = new GridPane();
        layout.add(grid, 0, 0);
        layout.add(lancerButton, 0, 1);
        layout.add(resultArea, 0, 2);

        // Scene and Stage
        Scene scene = new Scene(layout, 400, 400);
        primaryStage.setScene(scene);
        primaryStage.show();
    }

    private void rollDice(TextArea resultArea) {
        // Reset frequencies
        for (int i = 0; i < 6; i++) {
            frequencies[i] = 0;
        }

        // Randomize dice faces
        for (int i = 0; i < 12; i++) {
            int faceIndex = random.nextInt(6);
            diceViews[i].setImage(diceFaces[faceIndex]);
            frequencies[faceIndex]++;
        }

        // Show results
        StringBuilder result = new StringBuilder("Face\tFrequency\tPercentage\n");
        for (int i = 0; i < 6; i++) {
            double percentage = (frequencies[i] / 12.0) * 100;
            result.append((i + 1)).append("\t").append(frequencies[i]).append("\t").append(String.format("%.2f", percentage)).append("%\n");
        }
        resultArea.setText(result.toString());
    }

    public static void main(String[] args) {
        launch(args);
    }
}